{
  "name": "Análise de Apostas - Futebol GRÁTIS 2025",
  "nodes": [
    {
      "parameters": {},
      "id": "manual-trigger",
      "name": "Início Manual",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "time_casa",
              "value": "Flamengo"
            },
            {
              "name": "time_fora",
              "value": "Palmeiras"
            },
            {
              "name": "campeonato",
              "value": "Brasileirão Série A"
            },
            {
              "name": "liga_api",
              "value": "brasileirao"
            }
          ]
        },
        "options": {}
      },
      "id": "set-dados-jogo",
      "name": "Definir Dados do Jogo",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "https://api.brasileiraoapi.com/v1/classificacao/a",
        "authentication": "none",
        "options": {}
      },
      "id": "buscar-classificacao",
      "name": "Buscar Classificação Brasileirão",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [680, 200]
    },
    {
      "parameters": {
        "url": "=https://www.thesportsdb.com/api/v1/json/3/searchteams.php?t={{ $json.time_casa }}",
        "authentication": "none",
        "options": {}
      },
      "id": "buscar-time-casa",
      "name": "Buscar Info Time Casa",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [680, 350]
    },
    {
      "parameters": {
        "url": "=https://www.thesportsdb.com/api/v1/json/3/searchteams.php?t={{ $json.time_fora }}",
        "authentication": "none",
        "options": {}
      },
      "id": "buscar-time-fora",
      "name": "Buscar Info Time Fora",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [680, 500]
    },
    {
      "parameters": {
        "url": "=https://www.thesportsdb.com/api/v1/json/3/eventslast.php?id={{ $('Buscar Info Time Casa').item.json.teams[0].idTeam }}",
        "authentication": "none",
        "options": {}
      },
      "id": "ultimos-jogos-casa",
      "name": "Últimos 5 Jogos - Casa",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [900, 300]
    },
    {
      "parameters": {
        "url": "=https://www.thesportsdb.com/api/v1/json/3/eventslast.php?id={{ $('Buscar Info Time Fora').item.json.teams[0].idTeam }}",
        "authentication": "none",
        "options": {}
      },
      "id": "ultimos-jogos-fora",
      "name": "Últimos 5 Jogos - Fora",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [900, 450]
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "merge-dados",
      "name": "Combinar Todos os Dados",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [1120, 375]
    },
    {
      "parameters": {
        "jsCode": "// Processar dados da classificação\nconst classificacao = $input.item(0).json;\nconst timeCasa = $('Definir Dados do Jogo').item.json.time_casa;\nconst timeFora = $('Definir Dados do Jogo').item.json.time_fora;\n\n// Encontrar times na classificação\nconst dadosCasa = classificacao.find(t => t.nome.includes(timeCasa));\nconst dadosFora = classificacao.find(t => t.nome.includes(timeFora));\n\n// Dados dos últimos jogos\nconst ultimosJogosCasa = $('Últimos 5 Jogos - Casa').item.json.results || [];\nconst ultimosJogosFora = $('Últimos 5 Jogos - Fora').item.json.results || [];\n\n// Calcular estatísticas\nfunction calcularEstatisticas(jogos, nomeTime) {\n  if (!jogos || jogos.length === 0) return {\n    vitorias: 0,\n    empates: 0,\n    derrotas: 0,\n    golsMarcados: 0,\n    golsSofridos: 0,\n    formaRecente: 'Sem dados'\n  };\n  \n  let vitorias = 0, empates = 0, derrotas = 0;\n  let golsMarcados = 0, golsSofridos = 0;\n  let forma = [];\n  \n  jogos.slice(0, 5).forEach(jogo => {\n    const foiCasa = jogo.strHomeTeam === nomeTime;\n    const golsPro = foiCasa ? parseInt(jogo.intHomeScore) : parseInt(jogo.intAwayScore);\n    const golsContra = foiCasa ? parseInt(jogo.intAwayScore) : parseInt(jogo.intHomeScore);\n    \n    golsMarcados += golsPro || 0;\n    golsSofridos += golsContra || 0;\n    \n    if (golsPro > golsContra) {\n      vitorias++;\n      forma.push('V');\n    } else if (golsPro === golsContra) {\n      empates++;\n      forma.push('E');\n    } else {\n      derrotas++;\n      forma.push('D');\n    }\n  });\n  \n  return {\n    vitorias,\n    empates,\n    derrotas,\n    golsMarcados,\n    golsSofridos,\n    mediaGolsMarcados: (golsMarcados / 5).toFixed(2),\n    mediaGolsSofridos: (golsSofridos / 5).toFixed(2),\n    formaRecente: forma.join('-')\n  };\n}\n\nconst estatsCasa = calcularEstatisticas(ultimosJogosCasa, timeCasa);\nconst estatsFora = calcularEstatisticas(ultimosJogosFora, timeFora);\n\nreturn {\n  json: {\n    time_casa: timeCasa,\n    time_fora: timeFora,\n    campeonato: $('Definir Dados do Jogo').item.json.campeonato,\n    \n    // Dados da classificação\n    posicao_casa: dadosCasa?.posicao || 'N/D',\n    pontos_casa: dadosCasa?.pontos || 0,\n    posicao_fora: dadosFora?.posicao || 'N/D',\n    pontos_fora: dadosFora?.pontos || 0,\n    \n    // Estatísticas Time Casa\n    forma_casa: estatsCasa.formaRecente,\n    vitorias_casa: estatsCasa.vitorias,\n    empates_ca
